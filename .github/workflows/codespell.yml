name: Codespell

on:
  push:
    branches:
      - main
      - 'release-*'
  pull_request:
    branches:
      - main

jobs:
  codespell:
    name: Check for spelling errors
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Run codespell without config files
        run: |
          # Install codespell directly to bypass config detection
          pip install codespell
          # Run with explicit command-line args only
          codespell \
            --check-filenames \
            --skip .git,go.sum,*.png,*.jpg,*.svg,*.gif,*.sum,bin,vendor,*.toml \
            --ignore-words-list fo,nam,te,notin,NotIn \
            .